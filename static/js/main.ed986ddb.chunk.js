(this["webpackJsonpweb-page"]=this["webpackJsonpweb-page"]||[]).push([[0],{242:function(e,a,t){e.exports=t.p+"static/media/home_logo.ba8c162b.png"},247:function(e,a,t){e.exports=t.p+"static/media/Preloader.d0ed0a5c.gif"},248:function(e,a,t){e.exports=t.p+"static/media/delete_icon.4663dc9c.png"},249:function(e,a,t){e.exports=t.p+"static/media/edit_icon.46eccaab.png"},250:function(e,a,t){e.exports=t.p+"static/media/info_icon.6528a866.png"},251:function(e,a,t){e.exports=t.p+"static/media/user_photo.864ff030.png"},254:function(e,a,t){e.exports=t.p+"static/media/pageNotFound.e4730676.jpg"},255:function(e,a,t){e.exports=t(448)},260:function(e,a,t){},262:function(e,a,t){},448:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(35),c=t.n(l),o=(t(260),t(9)),s=t(10),i=t(11),m=t(12),u=(t(261),t(262),t(19)),d=t(14),h=t(28),p=t.n(h),g=(t(267),t(240)),E=t(16),f=t(112),b=t(113);var v=t(241),C={apiKey:"AIzaSyAhRq-c5fKHuR19dxvVpI85WUvxSL24sNk",authDomain:"react-client-d326c.firebaseapp.com",databaseURL:"https://react-client-d326c.firebaseio.com",projectId:"react-client-d326c",storageBucket:"react-client-d326c.appspot.com",messagingSenderId:"749173193785",appId:"1:749173193785:web:f3a34c124e29ff105d61e8"},O=Object(g.createLogger)();p.a.initializeApp(C);var S=Object(d.c)({firebase:E.firebaseReducer,firestore:f.firestoreReducer,mainstore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isSignedIn:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGNIN_SUCCESS":return Object(b.a)({},e,{isSignedIn:!0,user:a.data});case"SIGNIN_FAILURE":return Object(b.a)({},e,{signInError:a.data});case"SIGNOUT_SUCCESS":return Object(b.a)({},e,{isSignedIn:!1});default:return e}}}),j=Object(d.e)(S,Object(d.d)(Object(d.a)(v.a.withExtraArgument({getFirebase:E.getFirebase,getFirestore:f.getFirestore}),O),Object(f.reduxFirestore)(p.a))),w=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"\xa9All rights reserved"))}}]),t}(n.Component),N=t(162),I=t(39),y=t(20),k=Object(y.a)(),x=t(455),G=t(454),U=t(52),F=t(242),P=t.n(F),A=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).logOut=function(){e.props.dispatchSignin("SIGNOUT_SUCCESS"),p.a.auth().signOut().then((function(){})).catch((function(e){}))},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.isSignedIn;return console.log("user",e),r.a.createElement("div",{className:"menu"},r.a.createElement(x.a,{bg:"light",variant:"light"},r.a.createElement(G.a,{variant:"tabs",className:"mr-auto"},r.a.createElement(U.a,{className:"nav-link",to:"/home"},r.a.createElement("img",{className:"home-logo",alt:"logo",src:P.a})),e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"nav-link",to:"/add-user"},"Add User"),r.a.createElement(U.a,{className:"nav-link",to:"/home",onClick:this.logOut},"Log Out")),!e&&r.a.createElement(r.a.Fragment,null,r.a.createElement(U.a,{className:"nav-link",to:"/sign-in"},"Sign In"),r.a.createElement(U.a,{className:"nav-link",to:"/sign-up"},"Sign Up")))))}}]),t}(n.Component),q=Object(d.d)(Object(E.firestoreConnect)(),Object(u.b)((function(e){return{isSignedIn:e.mainstore.isSignedIn}}),{dispatchSignin:function(e,a){return function(t){t({type:e,data:a})}}}))(A),D=t(451),B=t(247),L=t.n(B),_=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null," ",r.a.createElement("img",{className:"loader",src:L.a,alt:"loader"})," ")}}]),t}(n.Component),R=t(248),W=t.n(R),T=t(249),H=t.n(T),$=t(250),z=t.n($),J=t(452),K=t(456),V=t(450),M=t(251),Q=t.n(M);var X=function(e){var a=e.client,t=a.email,n=a.balance,l=a.firstName,c=a.lastName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{show:!0,onHide:e.onClose},r.a.createElement(J.a.Header,{closeButton:!0},r.a.createElement(J.a.Title,null,"User Info")),r.a.createElement(J.a.Body,null,r.a.createElement(K.a,{style:{width:"18rem",margin:"auto"}},r.a.createElement(K.a.Img,{variant:"top",src:Q.a}),r.a.createElement(K.a.Body,null,r.a.createElement(K.a.Title,null,l+" "+c),r.a.createElement(K.a.Text,null,"Email: ",t),r.a.createElement(K.a.Text,null,"Balance: ",n)))),r.a.createElement(J.a.Footer,null,r.a.createElement(V.a,{variant:"secondary",onClick:e.onClose},"Close"))))};var Y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{show:!0,onHide:e.onClose,animation:!1},r.a.createElement(J.a.Body,null,"Do you want to delete the user?"),r.a.createElement(J.a.Footer,null,r.a.createElement(V.a,{variant:"danger",onClick:e.onDelete},"Delete"),r.a.createElement(V.a,{variant:"secondary",onClick:e.onClose},"Cancel"))))},Z=t(26),ee=t(453),ae=t(253),te=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(e){var n;return Object(o.a)(this,t),(n=a.call(this,e)).handleSave=function(){n.props.onEdit(n.state)},n.handleChange=function(e){n.setState(Object(Z.a)({},e.target.name,e.target.value))},n.state=e.user,n}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state,a=e.firstName,t=e.lastName,n=e.email,l=e.balance;return r.a.createElement(r.a.Fragment,null,r.a.createElement(J.a,{show:!0,onHide:this.props.onClose,animation:!1},r.a.createElement(J.a.Header,{closeButton:!0},r.a.createElement(J.a.Title,null,"Edit Info")),r.a.createElement(J.a.Body,null,r.a.createElement(ee.a,null,r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,value:a,type:"text",placeholder:"First Name",required:!0,name:"firstName"})),r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",value:t,placeholder:"Last Name",required:!0,name:"lastName"})),r.a.createElement(ee.a.Group,{as:ae.a,controlId:"formGridEmail"},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"email",value:n,placeholder:"Enter email",required:!0,name:"email"})),r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,value:l,type:"text",placeholder:"Balance",required:!0,name:"balance"})))),r.a.createElement(J.a.Footer,null,r.a.createElement(V.a,{variant:"primary",type:"submit",onClick:this.handleSave},"Save"),r.a.createElement(V.a,{variant:"secondary",onClick:this.props.onClose},"Cancel"))))}}]),t}(n.Component),ne=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={},e.closeInfo=function(){e.setState({client:null})},e.editInfo=function(a){e.props.firestore.collection("clients").doc(a.id).update(a),e.cancelEdit()},e.cancelEdit=function(){e.setState({editUser:null})},e.cancelDelete=function(){e.setState({deleteUserId:null})},e.deleteClient=function(){var a=e.state.deleteUserId;e.props.firestore.collection("clients").doc(a).delete().then((function(){console.log("Document successfully deleted!")})).catch((function(e){console.error("Error removing document: ",e)})),e.cancelDelete()},e.handleClick=function(a,t){return function(){switch(a){case"setClientInfo":e.setState({client:t});break;case"setEditUser":e.setState({editUser:t});break;case"setDeleteUserId":e.setState({deleteUserId:t});break;default:return}}},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this,a=this.props.clients;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Users"),a?r.a.createElement(D.a,{striped:!0,bordered:!0,hover:!0,variant:"dark",className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"First Name"),r.a.createElement("th",null,"Last Name"),r.a.createElement("th",null,"Balance"),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.firstName),r.a.createElement("td",null,a.lastName),r.a.createElement("td",null,a.balance),r.a.createElement("td",null,r.a.createElement("img",{onClick:e.handleClick("setClientInfo",a),className:"icon",src:z.a,alt:"info"}),r.a.createElement("img",{onClick:e.handleClick("setEditUser",a),className:"icon",src:H.a,alt:"edit"}),r.a.createElement("img",{onClick:e.handleClick("setDeleteUserId",a.id),className:"icon",src:W.a,alt:"delete"})))})))):r.a.createElement(_,null),!!this.state.client&&r.a.createElement(X,{client:this.state.client,onClose:this.closeInfo}),!!this.state.deleteUserId&&r.a.createElement(Y,{onClose:this.cancelDelete,onDelete:this.deleteClient}),!!this.state.editUser&&r.a.createElement(te,{user:this.state.editUser,onClose:this.cancelEdit,onEdit:this.editInfo}))}}]),t}(n.Component),re=Object(d.d)(Object(E.firestoreConnect)([{collection:"clients"}]),Object(u.b)((function(e,a){return{clients:e.firestore.ordered.clients}})))(ne),le=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",null,this.props.isSignedIn&&r.a.createElement(re,null))}}]),t}(n.Component),ce=Object(d.d)(Object(E.firestoreConnect)(),Object(u.b)((function(e){return{isSignedIn:e.mainstore.isSignedIn}})))(le),oe=(t(238),function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={email:"",password:"",errors:{}},e.handlerSubmit=function(a){a.preventDefault(),p.a.auth().signInWithEmailAndPassword(e.state.email,e.state.password).then((function(a){e.props.dispatchSignin("SIGNIN_SUCCESS",a),k.push("/home")})).catch((function(a){var t=a.code,n=a.message;e.props.dispatchSignin("SIGNIN_FAILURE",n),console.log(t,n)}))},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value;e.setState(Object(Z.a)({},n,r));var l=e.state.errors,c=RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);switch(n){case"email":l.email=c.test(r)?"":"Email is not valid!";break;case"password":l.password=r.length<7?"Password must be 7 characters long!":""}e.setState(Object(Z.a)({errors:l},n,r))},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.errors;return console.log("isSignedIn",this.props.isSignedIn),r.a.createElement("div",{className:"sign-in-div"},r.a.createElement(ee.a,{onSubmit:this.handlerSubmit},r.a.createElement(ee.a.Group,{controlId:"formBasicEmail"},r.a.createElement(ee.a.Label,null,"Email address"),r.a.createElement(ee.a.Control,{type:"email",name:"email",onChange:this.handleChange,placeholder:"Enter email",required:!0}),!!e.email&&r.a.createElement("span",{className:"error"},e.email),r.a.createElement(ee.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),r.a.createElement(ee.a.Group,{controlId:"formBasicPassword"},r.a.createElement(ee.a.Label,null,"Password"),r.a.createElement(ee.a.Control,{type:"password",onChange:this.handleChange,name:"password",placeholder:"Password",required:!0}),!!e.password&&r.a.createElement("span",{className:"error"},e.password)),r.a.createElement(V.a,{variant:"dark",type:"submit"},"Sign In")))}}]),t}(n.Component)),se=Object(d.d)(Object(E.firestoreConnect)(),Object(u.b)((function(e){return{isSignedIn:e.mainstore.isSignedIn}}),{dispatchSignin:function(e,a){return function(t){t({type:e,data:a})}}}))(oe),ie=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={email:"",password:"",confirmPassword:"",firstName:"",lastName:"",balance:0,errors:{}},e.handlerSubmit=function(a){a.preventDefault();var t=e.state;if(t.password!==t.confirmPassword)return console.log(!1),void e.setState({showError:!0});p.a.auth().createUserWithEmailAndPassword(e.state.email,e.state.password).then((function(a){var t={firstName:e.state.firstName,lastName:e.state.lastName,balance:0,email:e.state.email};e.props.firestore.add({collection:"clients"},t),e.props.dispatchSignin("SIGNIN_SUCCESS",a),k.push("/home")})).catch((function(a){var t=a.code,n=a.message;e.props.dispatchSignin("SIGNIN_FAILURE",n),"auth/wrong-password"===t?alert("Wrong password."):alert(n),console.log(a)}))},e.handleChange=function(a){a.preventDefault();var t=a.target,n=t.name,r=t.value;e.setState(Object(Z.a)({},n,r));var l=e.state.errors,c=RegExp(/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/);switch(n){case"firstName":l.firstName=r.length<2?"First Name must be 2 characters long!":"";break;case"lastName":l.lastName=r.length<2?"Last Name must be 2 characters long!":"";break;case"email":l.email=c.test(r)?"":"Email is not valid!";break;case"password":l.password=r.length<7?"Password must be 7 characters long!":"";break;case"confirmPassword":l.confirmPassword=r.length<7?"Password must be 7 characters long!":""}e.setState(Object(Z.a)({errors:l},n,r))},e.signUpWithGoogle=function(){(new p.a.auth.GoogleAuthProvider).addScope("https://www.googleapis.com/auth/contacts.readonly"),p.a.auth().useDeviceLanguage()},e}return Object(s.a)(t,[{key:"render",value:function(){var e=this.state.errors;return r.a.createElement("div",{className:"sign-up-div"},r.a.createElement(ee.a,{onSubmit:this.handlerSubmit},r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",placeholder:"First Name",required:!0,name:"firstName"}),!!e.firstName&&r.a.createElement("span",{className:"error"},e.firstName)),r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Last Name",required:!0,name:"lastName"}),!!e.lastName&&r.a.createElement("span",{className:"error"},e.lastName)),r.a.createElement(ee.a.Group,{as:ae.a,controlId:"formGridEmail"},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"email",placeholder:"Enter email",required:!0,name:"email"}),!!e.email&&r.a.createElement("span",{className:"error"},e.email)),r.a.createElement(ee.a.Group,{as:ae.a,controlId:"formGridPassword1"},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"password",placeholder:"Password",required:!0,name:"password"}),!!e.password&&r.a.createElement("span",{className:"error"},e.password)),r.a.createElement(ee.a.Group,{as:ae.a,controlId:"formGridPassword2"},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"password",placeholder:"Confirm Password",required:!0,name:"confirmPassword"}),!!e.confirmPassword&&r.a.createElement("span",{className:"error"},e.confirmPassword)),r.a.createElement(V.a,{variant:"dark",type:"submit"},"Sign Up"),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"info",onClick:this.signUpWithGoogle},"Sign In with Google account")),this.state.showError&&r.a.createElement("p",{className:"password-error"},"Passwords do not match"))}}]),t}(n.Component),me=Object(d.d)(Object(E.firestoreConnect)(),Object(u.b)((function(e){return{isSignedIn:e.mainstore.isSignedIn}}),{dispatchSignin:function(e,a){return function(t){t({type:e,data:a})}}}))(ie),ue=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){var e;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=a.call.apply(a,[this].concat(r))).state={firstName:"",lastName:"",balance:0,email:""},e.handlerSubmit=function(a){a.preventDefault();var t=e.state;e.props.firestore.add({collection:"clients"},t),k.push("/home")},e.handleChange=function(a){e.setState(Object(Z.a)({},a.target.name,a.target.value))},e}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"add-user-div"},r.a.createElement(ee.a,{onSubmit:this.handlerSubmit},r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",placeholder:"First Name",required:!0,name:"firstName"})),r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Last Name",required:!0,name:"lastName"})),r.a.createElement(ee.a.Group,{as:ae.a,controlId:"formGridEmail"},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"email",placeholder:"Enter email",required:!0,name:"email"})),r.a.createElement(ee.a.Group,{as:ae.a},r.a.createElement(ee.a.Control,{onChange:this.handleChange,type:"text",placeholder:"Balance",required:!0,name:"balance"})),r.a.createElement(V.a,{variant:"dark",type:"submit"},"Add")))}}]),t}(n.Component),de=Object(E.firestoreConnect)()(ue),he=t(254),pe=t.n(he),ge=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Page not found"),r.a.createElement("img",{src:pe.a,alt:"pageNotFound"}))}}]),t}(n.Component),Ee=function(e){var a=e.component,t=e.isSignedIn,n=Object(N.a)(e,["component","isSignedIn"]);return r.a.createElement(I.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(a,e):r.a.createElement(I.a,{to:{pathname:"/sign-in",state:{from:e.location}}})}}))},fe=function(e){var a=e.component,t=e.isSignedIn,n=Object(N.a)(e,["component","isSignedIn"]);return r.a.createElement(I.b,Object.assign({},n,{render:function(e){return t?r.a.createElement(I.a,{to:{pathname:e.location.state?e.location.state.from.pathname:"/",state:{from:e.location}}}):r.a.createElement(a,e)}}))},be=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){var e=this.props.isSignedIn;return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.c,{history:k},r.a.createElement(q,null),r.a.createElement(I.d,null,r.a.createElement(I.b,{exact:!0,path:"/",component:ce}),r.a.createElement(fe,{exact:!0,path:"/home",component:ce,isSignedIn:e}),r.a.createElement(fe,{exact:!0,path:"/sign-in",component:se,isSignedIn:e}),r.a.createElement(fe,{exact:!0,path:"/sign-up",component:me,isSignedIn:e}),r.a.createElement(Ee,{exact:!0,path:"/add-user",component:de,isSignedIn:e}),r.a.createElement(I.b,{exact:!0,path:"/404",component:ge}),r.a.createElement(I.a,{to:"/404"}))))}}]),t}(n.Component),ve=Object(d.d)(Object(E.firestoreConnect)(),Object(u.b)((function(e){return{isSignedIn:e.mainstore.isSignedIn}})))(be),Ce=function(e){Object(m.a)(t,e);var a=Object(i.a)(t);function t(){return Object(o.a)(this,t),a.apply(this,arguments)}return Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(u.a,{store:j},r.a.createElement(ve,null)),r.a.createElement(w,null))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[255,1,2]]]);
//# sourceMappingURL=main.ed986ddb.chunk.js.map